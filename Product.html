<!DOCTYPE html>
<head>
    <title>Product Catalog</title>
    <link rel="stylesheet" href="styles.css">
</head>
<header><a href="Product.html"><img height="60px" src="logo.png" alt="Image not found"></a>
    <div class="headertitle"><h2>CURRENT INVENTORY</h2></div>
    <div class="headerright"><a href="Cart.html"><img height="50px" src="cart.png" alt="Image not found"></a></div>
    <div class="logout"> <button onclick="document.location='index.html'"><b>Log Out</b></button></div>
</header>
<body>
    
    <div class="productwrap">
        
        <div class="product">
            <h4 id="cname1">1991 NISSAN 180SX KRPS13</h4><h4 id="cprice1">37181 USD</h4>
            <img bottom="10px" width="250px" src="180SX.jpg">
            <table width=400px height="150px" align="center">
                <tr colspan="2"><td><center><big>Details</big></center></td></tr>
                <tr>
                    <td><b>Registration Date:</b><br>1991/March</td>
                    <td><b>Milage</b><br>30,000km</td>
                </tr>
                <tr>
                    <td><b>Model code:</b><br>123-A</td>
                    <td><b>Transmission</b><br>Manual</td>
                </tr>
                <tr>
                    <td><b>Engine Capacity:</b><br>2000cc</td>
                    <td><b>VIN</b><br>KRPS13-***</td>
                </tr>
            </table><br>
            <button id="cbutt1"><b>Add to Cart</b></button>
        </div>
        <div class="product">
            <h4 id="cname2">NISSAN SKYLINE GT-R E-BNR32</h4><h4 id="cprice2">80000 USD</h4>
            <img width="250px" src="R32.jpg">
            <table width=400px height="150px" align="center">
                <tr colspan="2"><td><center><big>Details</big></center></td></tr>
                <tr>
                    <td><b>Registration Date:</b><br>1993/July</td>
                    <td><b>Milage</b><br>19,000km</td>
                </tr>
                <tr>
                    <td><b>Model code:</b><br>E-BNR32</td>
                    <td><b>Transmission</b><br>Manual</td>
                </tr>
                <tr>
                    <td><b>Engine Capacity:</b><br>2600cc</td>
                    <td><b>VIN</b><br>BNR32-***</td>
                </tr>
            </table><br>
            <button id="cbutt2"><b>Add to Cart</b></button>
        </div>
        <div class="product">
            <h4 id="cname3">N1990 HONDA NSX</h4><h4 id="cprice3">70000 USD</h4>
            <img width="250px" src="NSX.jpg">
            <table width=400px height="150px" align="center">
                <tr colspan="2"><td><center><big>Details</big></center></td></tr>
                <tr>
                    <td><b>Registration Date:</b><br>1990/October</td>
                    <td><b>Milage</b><br>60,000km</td>
                </tr>
                <tr>
                    <td><b>Model code:</b><br>E-NA1</td>
                    <td><b>Transmission</b><br>Manual</td>
                </tr>
                <tr>
                    <td><b>Engine Capacity:</b><br>3000cc</td>
                    <td><b>VIN</b><br>NA1-1***</td>
                </tr>
            </table><br>
            <button id="cbutt3"><b>Add to Cart</b></button>
        </div>
        <div class="product">
            <h4 id="cname4">TOYOTA CRESTA EXCEED</h4><h4 id="cprice4">21000 USD</h4>
            <img width="250px" src="CRESTA.jpg">
            <table width=400px height="150px" align="center">
                <tr colspan="2"><td><center><big>Details</big></center></td></tr>
                <tr>
                    <td><b>Registration Date:</b><br>2000/January</td>
                    <td><b>Milage</b><br>130,000km</td>
                </tr>
                <tr>
                    <td><b>Model code:</b><br>GF-JZX100</td>
                    <td><b>Transmission</b><br>Manual</td>
                </tr>
                <tr>
                    <td><b>Engine Capacity:</b><br>2000cc</td>
                    <td><b>VIN</b><br>JZX100-****</td>
                </tr>
            </table><br>
            <button id="cbutt4"><b>Add to Cart</b></button>
        </div>
        <div class="product">
            <h4 id="cname5">TOYOTA CHASER JZX100</h4><h4 id="cprice5">21000 USD</h4>
            <img width="250px" src="CHASER.jpg">
            <table width=400px height="150px" align="center">
                <tr colspan="2"><td><center><big>Details</big></center></td></tr>
                <tr>
                    <td><b>Registration Date:</b><br>1997/March</td>
                    <td><b>Milage</b><br>44,000km</td>
                </tr>
                <tr>
                    <td><b>Model code:</b><br>123-A</td>
                    <td><b>Transmission</b><br>Automatic</td>
                </tr>
                <tr>
                    <td><b>Engine Capacity:</b><br>2500cc</td>
                    <td><b>VIN</b><br>JZX100-0***</td>
                </tr>
            </table><br>
            <button id="cbutt5"><b>Add to Cart</b></button>
        </div>
        <div class="product">
            <h4 id="cname6">NISSAN SILVIA S15</h4><h4 id="cprice6">22000 USD</h4>
            <img width="250px" src="S15.jpg">
            <table width=400px height="150px" align="center">
                <tr colspan="2"><td><center><big>Details</big></center></td></tr>
                <tr>
                    <td><b>Registration Date:</b><br>2000/October</td>
                    <td><b>Milage</b><br>110,000km</td>
                </tr>
                <tr>
                    <td><b>Model code:</b><br>S15</td>
                    <td><b>Transmission</b><br>Manual</td>
                </tr>
                <tr>
                    <td><b>Engine Capacity:</b><br>2000cc</td>
                    <td><b>VIN</b><br>S15-02***</td>
                </tr>
            </table><br>
            <button id="cbutt6"><b>Add to Cart</b></button>
        </div>
        <div class="product">
            <h4 id="cname7">NISSAN SILVIA E-S14</h4><h4 id="cprice7">20000 USD</h4>
            <img width="250px" src="S14.jpg">
            <table width=400px height="150px" align="center">
                <tr colspan="2"><td><center><big>Details</big></center></td></tr>
                <tr>
                    <td><b>Registration Date:</b><br>1997/July</td>
                    <td><b>Milage</b><br>130,000km</td>
                </tr>
                <tr>
                    <td><b>Model code:</b><br>E-S14</td>
                    <td><b>Transmission</b><br>Manual</td>
                </tr>
                <tr>
                    <td><b>Engine Capacity:</b><br>2000cc</td>
                    <td><b>VIN</b><br>S14-146***</td>
                </tr>
            </table><br>
            <button id="cbutt7"><b>Add to Cart</b></button>
        </div>
        <div class="product">
            <h4 id="cname8">MAZDA RX-7 E-FD3S</h4><h4 id="cprice8">25000 USD</h4>
            <img width="250px" src="RX7.jpg">
            <table width=400px height="150px" align="center">
                <tr colspan="2"><td><center><big>Details</big></center></td></tr>
                <tr>
                    <td><b>Registration Date:</b><br>1993/September</td>
                    <td><b>Milage</b><br>70,000km</td>
                </tr>
                <tr>
                    <td><b>Model code:</b><br>E-FD3S</td>
                    <td><b>Transmission</b><br>Manual</td>
                </tr>
                <tr>
                    <td><b>Engine Capacity:</b><br>2000cc</td>
                    <td><b>VIN</b><br>FD3S-200***</td>
                </tr>
            </table><br>
            <button id="cbutt8"><b>Add to Cart</b></button>
        </div>
        <div class="product">
            <h4 id="cname9">NISSAN SILVIA PS13</h4><h4 id="cprice9">32000 USD</h4>
            <img width="250px" src="S13.jpg">
            <table width=400px height="150px" align="center">
                <tr colspan="2"><td><center><big>Details</big></center></td></tr>
                <tr>
                    <td><b>Registration Date:</b><br>1991/April</td>
                    <td><b>Milage</b><br>50,000km</td>
                </tr>
                <tr>
                    <td><b>Model code:</b><br>PS13</td>
                    <td><b>Transmission</b><br>Manual</td>
                </tr>
                <tr>
                    <td><b>Engine Capacity:</b><br>2000cc</td>
                    <td><b>VIN</b><br>PS13016***</td>
                </tr>
            </table><br>
            <button id="cbutt9"><b>Add to Cart</b></button>
        </div>
    
    </div>

    <footer><h3>BRINGING YOUR DREAM ACROSS BORDERS, ONE HOP AT A TIME</h3>
        <a href="mailto:KaeruExportsService@gmail.com" target="_blank"><img width="30px" src="gmail.png"></a>&emsp13;&emsp13;
        <a href="https://www.instagram.com/notnzte/?hl=en" target="_blank"><img width="30px" src="instagram.png"></a>
        
    </footer>
    <script type="text/javascript">
        let cname=[document.getElementById('cname1'),document.getElementById('cname2'),document.getElementById('cname3'),
                    document.getElementById('cname4'),document.getElementById('cname5'),document.getElementById('cname6'),
                    document.getElementById('cname7'),document.getElementById('cname8'),document.getElementById('cname9')];

        let cprice=[document.getElementById('cprice1'),document.getElementById('cprice2'),document.getElementById('cprice3'),
                    document.getElementById('cprice4'),document.getElementById('cprice5'),document.getElementById('cprice6'),
                    document.getElementById('cprice7'),document.getElementById('cprice8'),document.getElementById('cprice9')];

         let cquan = JSON.parse(localStorage.getItem('carquan')) || new Array(9).fill(1);
        
        //Still Grasping 
        let carNames = [];
        for (let i = 0; i < cname.length; i++) 
        {
            carNames.push(cname[i].textContent);
        }      
        let carPrices = [];
        for (let i = 0; i < cprice.length; i++) 
        {
            carPrices.push(parseFloat(cprice[i].textContent));
        }      
        let carQuan = cquan;

        localStorage.setItem('carname', JSON.stringify(carNames));
        localStorage.setItem('carprice', JSON.stringify(carPrices));
        localStorage.setItem('carquan', JSON.stringify(carQuan));
        
        //Here

        function addtocart(productindex)
    {
        let cart = JSON.parse(localStorage.getItem('cartinfo'))||[];

        cnametest = cname[productindex].textContent;
        testresult = cart.findIndex(function(item) 
            {
                return item.name == cnametest;
            });
        if (testresult == -1)
        {
            cart.push({
                quantity: cquan[productindex],
                name: cname[productindex].textContent,
                price: cprice[productindex].textContent
            });
            localStorage.setItem('cartinfo', JSON.stringify(cart));
            window.location.href = 'Cart.html';
        }
        else
        {
            window.alert("This item is already in your cart.");
        };
        
            
        
    };
    document.getElementById("cbutt1").addEventListener("click", function() {
        if (carQuan[0] == 0)
    {
        window.alert("The item has already been sold.")
    }
    else
    {   
        addtocart(0);
    }
        
    });
    document.getElementById("cbutt2").addEventListener("click", function() {
        if (carQuan[1] == 0)
    {
        window.alert("The item has already been sold.")
    }
    else
    {   
        addtocart(1);
    }
    });
    document.getElementById("cbutt3").addEventListener("click", function() {
        if (carQuan[2] == 0)
    {
        window.alert("The item has already been sold.")
    }
    else
    {   
        addtocart(2);
    }
    });
    document.getElementById("cbutt4").addEventListener("click", function() {
        if (carQuan[3] == 0)
    {
        window.alert("The item has already been sold.")
    }
    else
    {   
        addtocart(3);
    }
    });
    document.getElementById("cbutt5").addEventListener("click", function() {
        if (carQuan[4] == 0)
    {
        window.alert("The item has already been sold.")
    }
    else
    {   
        addtocart(4);
    }
    });
    document.getElementById("cbutt6").addEventListener("click", function() {
        if (carQuan[5] == 0)
    {
        window.alert("The item has already been sold.")
    }
    else
    {   
        addtocart(5);
    }
    });
    document.getElementById("cbutt7").addEventListener("click", function() {
        if (carQuan[6] == 0)
    {
        window.alert("The item has already been sold.")
    }
    else
    {   
        addtocart(6);
    }
    });
    document.getElementById("cbutt8").addEventListener("click", function() {
        if (carQuan[7] == 0)
    {
        window.alert("The item has already been sold.")
    }
    else
    {   
        addtocart(7);
    }
    });
    document.getElementById("cbutt9").addEventListener("click", function() {
        if (carQuan[8] == 0)
    {
        window.alert("The item has already been sold.")
    }
    else
    {   
        addtocart(8);
    }
    });
    </script>
</body>
</html>
